---
title: "Case Study of the Property Boom"
output:
  html_document:
    toc: true
    toc_float: true
---
```{r echo = FALSE,message =FALSE, warning=FALSE}
library(ggplot2)
library(ggrepel)
library(dplyr)

data <- readRDS("rmarkdown_data.rds")
```
## NSW Property - A Growth Story
The overwhelming sentiment in Australia is that investing in property is the perfect investment as it doubles every 7 years while at the same time being the safest investment available. These two features are typically considered to be competing forces and are what the Risk/Return tradeoff characterises. But seemingly, in Australia this tradeoff doesn't apply.

The below case study is based on property data obtained from the NSW Valuer General and incorporates a wealth of additional data from various sources listed on the previous page. 

The top 10 things I've found:

### 1 - Growth Everywhere You Look

If you were looking at buying property in NSW in the year 2000, you basically couldn't miss. The median value was `r data %>% filter(year == 2019) %>% summarise(median = median(index)) %>% round(,0)`% growth over 20 years. The absolute worst performance over the 20 years was, `r data %>% filter(year == 2019) %>% arrange(index) %>% select(index) %>% head(1) %>% round(,0)`% and for `r data %>% filter(year == 2019) %>% arrange(index) %>% select(suburb_name) %>% head(1)`. On the other hand, the average person who bought a house in `r data %>% filter(year == 2019) %>% arrange(desc(index)) %>% select(suburb_name) %>% head(1)`, saw a growth rate of `r data %>% filter(year == 2019) %>% arrange(desc(index)) %>% select(index) %>% head(1) %>% round(,0)` %. 

USE OUT.WIDTH - easier and scales

```{r echo = FALSE,message =FALSE, warning=FALSE, out.width = "100%"}
ggplot(data,aes(x = year, y = index, group = suburb_name)) + 
    geom_line(alpha = 0.2) +
    ggtitle("Everywhere Makes Money") +
    theme_minimal()
```

### 2 - Regional NSW Grew First, Sydney Caught Up


```{r echo = FALSE,message =FALSE, warning=FALSE}
ggplot(data,aes(x = year, y = index, group = suburb_name, colour = gccsa_name)) + 
    geom_line(alpha = 0.2) +
    geom_text_repel(data = data %>% 
                      group_by(suburb_name) %>%
                      arrange(desc(year)) %>%
                      slice(1) %>%
                      filter(index > 850),
                    aes(label = suburb_name)) + 
    expand_limits(x = max(data$year) + 2) +
    ggtitle("Everywhere Makes Money") +
    theme_minimal()+
    theme(legend.position="bottom")
```




There are a lot of ways to get sophisticated here, and we're only covering a few possibilites here. See [RStudio's R Markdown lessons](http://rmarkdown.rstudio.com/lesson-1.html) for other R Markdown capabilities. Plus, R Markdown can render styling from Cascading Style Sheets (CSS) and Hyper Text Markup Language (HTML), which is what non-R Markdown websites use.  

So, Googling what you want to do and trying it in your R Markdown files is a good way to learn. Disclaimer: that's how I've learned the following, so there are most definitely better and more elegant ways to do this. But here are some ideas of what you may want to do with your website. 

----

## R Markdown options 

These are options that you can do from the Front Matter. 

<br>

### Table of Contents

Note that on this page: